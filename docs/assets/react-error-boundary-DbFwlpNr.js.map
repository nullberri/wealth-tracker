{"version":3,"file":"react-error-boundary-DbFwlpNr.js","sources":["../../node_modules/react-error-boundary/dist/react-error-boundary.esm.js"],"sourcesContent":["'use client';\nimport { createContext, Component, createElement, isValidElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback === null || isValidElement(fallback)) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n"],"names":["createContext","Component","createElement","isValidElement"],"mappings":"mKAGA,MAAM,qBAAuBA,aAAAA,cAAc,IAAI,EAEzC,aAAe,CACnB,SAAU,GACV,MAAO,IACT,EACM,eAAN,MAAM,uBAAsBC,aAAAA,SAAU,CACpC,YAAY,MAAO,CACjB,MAAM,KAAK,EACX,KAAK,mBAAqB,KAAK,mBAAmB,KAAK,IAAI,EAC3D,KAAK,MAAQ,YACd,CACD,OAAO,yBAAyB,MAAO,CACrC,MAAO,CACL,SAAU,GACV,KACN,CACG,CACD,oBAAqB,CACnB,KAAM,CACJ,KACN,EAAQ,KAAK,MACT,GAAI,QAAU,KAAM,CAElB,QADI,oBAAqB,YAChB,KAAO,UAAU,OAAQ,KAAO,IAAI,MAAM,IAAI,EAAG,KAAO,EAAG,KAAO,KAAM,OAC/E,KAAK,IAAI,EAAI,UAAU,IAAI,GAE5B,qBAAuB,YAAc,KAAK,OAAO,WAAa,MAAQ,sBAAwB,QAAkB,oBAAoB,KAAK,YAAa,CACrJ,KACA,OAAQ,gBAChB,CAAO,EACD,KAAK,SAAS,YAAY,CAC3B,CACF,CACD,kBAAkB,MAAO,KAAM,CAC7B,IAAI,oBAAqB,cACxB,qBAAuB,aAAe,KAAK,OAAO,WAAa,MAAQ,sBAAwB,QAAkB,oBAAoB,KAAK,aAAc,MAAO,IAAI,CACrK,CACD,mBAAmB,UAAW,UAAW,CACvC,KAAM,CACJ,QACN,EAAQ,KAAK,MACH,CACJ,SACN,EAAQ,KAAK,MAOT,GAAI,UAAY,UAAU,QAAU,MAAQ,gBAAgB,UAAU,UAAW,SAAS,EAAG,CAC3F,IAAI,qBAAsB,cACzB,sBAAwB,aAAe,KAAK,OAAO,WAAa,MAAQ,uBAAyB,QAAkB,qBAAqB,KAAK,aAAc,CAC1J,KAAM,UACN,KAAM,UAAU,UAChB,OAAQ,MAChB,CAAO,EACD,KAAK,SAAS,YAAY,CAC3B,CACF,CACD,QAAS,CACP,KAAM,CACJ,SACA,eACA,kBACA,QACN,EAAQ,KAAK,MACH,CACJ,SACA,KACN,EAAQ,KAAK,MACT,IAAI,cAAgB,SACpB,GAAI,SAAU,CACZ,MAAM,MAAQ,CACZ,MACA,mBAAoB,KAAK,kBACjC,EACM,GAAI,OAAO,gBAAmB,WAC5B,cAAgB,eAAe,KAAK,UAC3B,kBACT,cAAgBC,aAAa,cAAC,kBAAmB,KAAK,UAC7C,WAAa,MAAQC,aAAc,eAAC,QAAQ,EACrD,cAAgB,aAEhB,OAAM,KAET,CACD,OAAOD,aAAa,cAAC,qBAAqB,SAAU,CAClD,MAAO,CACL,SACA,MACA,mBAAoB,KAAK,kBAC1B,CACF,EAAE,aAAa,CACjB,CACH,EA1FsC,uCAAtC,IAAM,cAAN,eA2FA,SAAS,iBAAkB,CACzB,IAAI,EAAI,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EACxE,EAAI,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAA,EAC5E,OAAO,EAAE,SAAW,EAAE,QAAU,EAAE,KAAK,CAAC,KAAM,QAAU,CAAC,OAAO,GAAG,KAAM,EAAE,KAAK,CAAC,CAAC,CACpF,CAJS","x_google_ignoreList":[0]}